#!/usr/bin/env fish

function awc
    # Define the wallpaper directory
    set WALLPAPER_DIR /home/nekomangini/Pictures/wallpaper/Anime/asuka/

    # Select a file with fzf and chafa preview, then pass to feh
    set SELECTED_FILE (ls -1 "$WALLPAPER_DIR" | fzf --preview "chafa --size=70x30 '$WALLPAPER_DIR/{}'" --height 50% --reverse)

    if test -n "$SELECTED_FILE"
        feh --bg-fill "$WALLPAPER_DIR/$SELECTED_FILE"
    else
        echo "No file selected."
    end
end
